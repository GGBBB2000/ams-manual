# 入退室管理システム クイックスタートガイド

## 1. パーツの接続・電源投入

1. スピーカーのUSB、カードリーダー、キーボード、マウスをラズパイのUSBに接続します。
2. スピーカーのイヤホンプラグをラズパイのジャックに接続します。
3. ラズパイとディスプレイをHDMIケーブルで接続します。
4. ACアダプタのUSB micro-b端子をラズパイに接続します。
5. ここまで完了したらコンセントに挿して、しばらく待ちます。
6. ディスプレイにデスクトップ画面が表示されることを確認します。

ここまでの手順で設置と電源の投入が完了しました。

## 2. 無線LANに接続する

- 学内LAN(WRL-SUCCES-S3)を使用する場合
  1. 先生の認証情報を用意します。
  2. [参考サイト](https://qiita.com/YasuhiroABE/items/1c8ac9e5636b28565c4b)の手順にしたがってセットアップする。

- 上記以外の場合
  - 研究室のルールに従って設定してください。

## 3. 機能紹介

### 入退室ログ記録機能

カードリーダーに学生証か職員証をタッチしてください。

効果音に続いて挨拶の音声が流れます。

これで入室時刻または退室時刻がデータベースに記録されました。

### ユーザーインタフェース

本システムは入退室ログ等を閲覧するためのブラウザベースのインタフェースを備えています。

#### ユーザーインタフェースへのアクセス方法

- ラズパイにディスプレイやキーボードを接続して使う場合
  1. ラズパイで画面左上の:earth_americas:マークをクリックしブラウザを起動します。
  2. `localhost:3000`にアクセスします。
- ラズパイにディスプレイを接続せずに使う場合
  1. ラズパイと同じネットワーク(学内LANならWRL-SUCCES-S3)に接続した任意のPCでブラウザを起動します。
  2. `<ラズパイのIP>:3000`にアクセスします。

### 現在の在室状況

ラズパイ、別PCのいずれの場合でもアクセスするとこの画面になります。

![index](img/ams-index.png)

現在、研究室にいる人の学籍番号がリアルタイムに確認できます。

### 入退室ログを確認する

画面左の[ 入退室ログの表示 ]をクリックします。このような画面になります。

![log](img/ams-log.png)

画面上部分では、現在までの入退室ログ(学籍番号、入室時間、退室時間)がCSV形式でダウンロードできます。

デフォルトでは直近3ヵ月分ですが、任意の期間でもダウンロードできます。

画面下部分では、現在までの入退室ログ(学籍番号、入室時間、退室時間)がすべて閲覧できます。
